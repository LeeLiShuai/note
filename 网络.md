**OSI七层体系架构**

物理层：比特流，设备之间比特流的传输，物理接口。

数据链路层：帧，将上层协议封装成帧，用MAC地址访问媒介，错误检测与修正

网络层：包，提供逻辑地址(IP)，选路，数据从源端到目的端的传输

传输层：段，实现网络不同主机上用户进程间的数据通信，可靠与不可靠的传输，传输层的错误检测，流量控制

会话层：数据，提供包括访问验证和会话管理在内的建立和维护员应用之间的通信的机制，如服务器验证用户的登录

表示层：数据，用户信息的语法表示问题，如加密解密啊

应用层：数据，确定进程之间通信的性质，满足用户需要提供网络与用户应用



**TCP/IP四层体系结构**

应用层：HTTP TELNET FTP SMTP

传输层：TCP UDP

网络层：IP ICMP

数据接口：PPP



**TCP**

tcp是面向连接的，每一条tcp链接只能有两端，点对点

tcp提供可靠交付的服务，通过tcp链接传送的数据，无差错，不对事，不重复，按序到达

tcp提供全双工通信，允许双方在任何时候都嫩通过发送数据，两端都设有发送缓存和接受缓存，用来存放双方的通信数据

tcp是面向字节流的，虽然应用程序和tcp的交互式一次一个数据块，但tcp把应用程序叫下来的数据仅仅看成是一连串的无结构的字节流

头部20字节，2个字节源端口号，2个字节目的端口号，4个字节序号，4个字节确认号，4位字节头部长度 6为字节保留 6位标志位 16位窗口大小（4个字节），2个字节校验和，2个字节紧急指针

tcp对应的应用层协议：

ftp:文件传输协议，使用21端口

telnet:远程登录，远程连接计算机

邮箱：smtp：简单邮件传送协议，25。pop3：接受永健协议，110.

http:超文本传输协议



**TCP三次握手**

发送方:我要和你建立连接

接收方：你真的要和我建立连接吗

发送方：我真的要和你建立连接

Client										Server

1.c---->s  SYN=1 seq=J

2.s----->c SYN=1 ACK=1 ack=J+1,seq=K

3.c---->s ACK =1 ack=K+1

为什么两次不行：为了防止已失效的连接请求报文突然有传送到服务端。

客户端发送的第一次请求，因为网络问题，滞后了一会才到达服务端，此时客户端任务请求失败了。

服务端接收到之后，返回第二次请求，但是客户端已经任务链接失败了，对请求不予理睬。服务端就会一直等待客户端发送数据，浪费服务端资源



**TCP四次挥手**

发送方：我要和你断开连接

接收方:好的

接受方：我也要和你断开链接

发送方：好的

Client                                             Server

1.FIN  M

2.ack M+1

3.FIN N

3.ACK =1 ack =N+1



**UDP**

用户数据包协议

无连接的

使用尽最大努力交付，不保证可靠地交付

面向报文的

没有拥塞控制，网络拥塞不会使源主机的发送速率降低

支持一对一，一对多，多对一，多对多的通信

头部8个字节,2个字节源端口号，2个字节目的端口号，2字节udp长度，2个字节udp检验和

对应的引用层协议：

DNS:域名解析服务，53

SNMP;简单网络管理协议，161

TFTP:简单文件传输协议，69



TCP与UDP区别

tcp面向连接				udp无连接

tcp可靠						udp不可靠

tcp支持点对点			udp支持四种情况

tcp面向字节流   		 udp面向报文

tcpyou拥塞控制		 udp没有拥塞控制

tcp头部20					udp头部8



**DNS**

域名解析，将域名转化为ip，使用udp协议

主机解析域名的顺序：

1.浏览器缓存

2.本机的hosts文件

3.路由缓存

4.找dns服务器

dns使用什么协议：

区域传送时使用tcp协议

域名解析时使用udp协议



**HTTP**

超文本传输协议

简单快速

数据格式灵活

无连接:每次连接只处理一个请求，处理完成后即断开连接

无状态:协议对于事务处理没有记忆能力

支持BS/CS模式



请求格式：

请求行：请求方式，请求的资源名称，使用的协议版本号

请求头：Accept,Accept-Language,Connection,Host,Referer,User-Agent,Accept-Encoding

一个空行

实体内容



响应格式：

状态行：使用的协议版本号，状态码，处理结果

响应头：Server,Date,Content-Length,Content-Type,Cache-control

一个空行

实体内容



请求方式：

GET POST PUT DELTE HEAD TRACE OPTIONS CONNECT

GET 数据在path中，明文，保护安全，长度有限制，一般2k，

POST 数据在body中，可明可密，安全，支持较大的数据传输



状态码：
1xx:请求处理中

2xx:请求成功 一般为200

3xx:重定向 301永久重定向  302临时重定向

4xx:客户端错误，请求不合法

​	400:客户端请求语法错误

​	401:请求未经授权

​	403:服务器拒绝提供服务

​	404:请求资源不存在

5xx:服务端错误

​	500:服务器法神不可预期的错误

​	503::服务器不能处理客户端的的请求



**一次http请求步骤**

1.dns解析，通过域名找到对应的ip地址。

2.http请求，tcp三次握手建立连接

3.发送请求

4.服务器返回数据

5.四次挥手关闭tcp连接

6.客户端渲染



**HTTPS**

在http与tcp之间加入一层ssl/tls,主要用到对称加密、非对称加密、证书等技术进行客户端与服务器的数据加密传输，保证通信的安全性

